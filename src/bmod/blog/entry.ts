/*! @file
********************************************************************************
<PRE>
文件实现功能   : blog 模块入口实现
作者           : dotdancer
版本           : 1.0
--------------------------------------------------------------------------------
备注           : -
--------------------------------------------------------------------------------
修改记录 :
日  期       版本    修改人     修改内容
2022/04/08   1.0     dotdancer  创建 
</PRE>
*******************************************************************************/
import syscfg from './config/syscfg'
import { initStore } from './store'
import { initRoutes } from './router'

// =============================================================================
// = 模块初始化
const stModuleName = syscfg.module
export const entryInit = async () => {
    // -------------------------------------------------------------------------
    // - 如果未开启当前模块, 终止初始化当前模块内容
    if (!app.checkBModIsEnable(stModuleName)){
        return
    }

    // -------------------------------------------------------------------------
    // - 初始化当前模块的语言包
    app.getAppCtl().mergeLpk(import.meta.globEager('./locales/*'))

    // -------------------------------------------------------------------------
    // - 初始化当前模块的配置信息

    // -------------------------------------------------------------------------
    // - 初始化当前模块的状态管理信息
    initStore()
    
    // -------------------------------------------------------------------------
    // - 初始化当前模块的路由
    initRoutes()
}